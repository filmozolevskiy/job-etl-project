# Environment Variables Template
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control - it contains secrets

# =============================================================================
# ENVIRONMENT
# =============================================================================
# Set to: development, staging, or production
ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Development (local Docker): localhost:5432
# Staging/Production (DigitalOcean): your-db-host.db.ondigitalocean.com:25060
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=job_search_db

# Connection pool sizing (optional; defaults: 1, 5). Tune if hitting connection limits.
# DB_POOL_MIN_CONN=1
# DB_POOL_MAX_CONN=5

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
# Development: FLASK_DEBUG=1, staging/production: FLASK_DEBUG=0
FLASK_ENV=development
FLASK_DEBUG=1
FLASK_SECRET_KEY=your-secret-key-here-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-here-change-in-production

# =============================================================================
# AIRFLOW CONFIGURATION
# =============================================================================
AIRFLOW_USERNAME=admin
AIRFLOW_PASSWORD=admin
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_UID=50000
AIRFLOW_FERNET_KEY=your_fernet_key_here

# Airflow API (for Campaign UI DAG triggering)
# Docker: http://airflow-webserver:8080/api/v1
# Local:  http://localhost:8080/api/v1
AIRFLOW_API_URL=http://airflow-webserver:8080/api/v1
AIRFLOW_API_USERNAME=admin
AIRFLOW_API_PASSWORD=admin

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================
# JSearch API
JSEARCH_API_KEY=your_jsearch_api_key_here
JSEARCH_NUM_PAGES=10

# Glassdoor API
GLASSDOOR_API_KEY=your_glassdoor_api_key_here

# OpenAI API (for ChatGPT enrichment)
OPENAI_API_KEY=your_openai_api_key_here
CHATGPT_MODEL=gpt-4o-mini
CHATGPT_ENRICHMENT_BATCH_SIZE=10
CHATGPT_MAX_RETRIES=3
CHATGPT_TIMEOUT_SECONDS=60
CHATGPT_MAX_CONCURRENT_BATCHES=10
CHATGPT_API_TIMEOUT_REASONING=180
CHATGPT_API_TIMEOUT_STANDARD=60
CHATGPT_STATUS_CHECK_INTERVAL=5

# =============================================================================
# EMAIL NOTIFICATIONS (SMTP)
# =============================================================================
# Option 1: SendGrid (works on DigitalOcean; use port 2525 when 587 is blocked)
#   - Create account at https://sendgrid.com
#   - Create API key with "Mail Send" at Settings > API Keys
#   - Verify a Single Sender at Settings > Sender Authentication; use that email for SMTP_FROM_EMAIL
#   - Username is the literal string "apikey"; password is your API key
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=2525
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key
SMTP_FROM_EMAIL=admin@justapply.net

# Option 2: Gmail (ports 25/465/587 often blocked on cloud VMs)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM_EMAIL=your_email@gmail.com

# =============================================================================
# APPLICATION PORTS
# =============================================================================
CAMPAIGN_UI_PORT=5000
FRONTEND_PORT=5173

# =============================================================================
# FILE UPLOADS
# =============================================================================
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_EXTENSIONS=pdf,docx
UPLOAD_BASE_DIR=uploads

# =============================================================================
# DBT CONFIGURATION
# =============================================================================
DBT_PROFILES_DIR=./dbt
DBT_PROJECT_DIR=./dbt

# =============================================================================
# TIMEZONE
# =============================================================================
TZ=America/Toronto
